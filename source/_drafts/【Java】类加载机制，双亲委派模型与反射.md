双亲委派机制



# 1. 双亲委派模型

关于双亲委派模型，网上的资料有很多。我这里只简单的描述一下，就当是复习。

## 1.1 什么是双亲委派模型？

首先，先要知道什么是类加载器。简单说，类加载器就是根据指定全限定名称将`class`文件加载到`JVM`内存，转为`Class`对象。如果站在`JVM`的角度来看，只存在两种类加载器:

- 启动类加载器（`Bootstrap ClassLoader`）：由`C++`语言实现（针对`HotSpot`）,负责将存放在`<JAVA_HOME>\lib`目录或`-Xbootclasspath`参数指定的路径中的类库加载到内存中。

- 其他类加载器：由`Java`语言实现，继承自抽象类`ClassLoader` 。如：
   - 扩展类加载器（`Extension ClassLoader`）：负责加载`<JAVA_HOME>\lib\ext`目录或`java.ext.dirs`系统变量指定的路径中的所有类库。
   - 应用程序类加载器（`Application ClassLoader`）。负责加载用户类路径（`classpath`）上的指定类库，我们可以直接使用这个类加载器。一般情况，如果我们没有自定义类加载器默认就是用这个加载器。

双亲委派模型工作过程是：如果一个类加载器收到类加载的请求，它首先不会自己去尝试加载这个类，而是把这个请求委派给父类加载器完成。每个类加载器都是如此，只有当父加载器在自己的搜索范围内找不到指定的类时（即`ClassNotFoundException`），子加载器才会尝试自己去加载。





### 参考资料

- [双亲委派模型与自定义类加载器](http://www.importnew.com/24036.html)
- [类加载机制与反射](https://www.zybuluo.com/king/note/62917)